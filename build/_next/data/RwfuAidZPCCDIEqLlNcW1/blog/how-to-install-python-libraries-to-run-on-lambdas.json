{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var m=Object.create;var s=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var i=e=>s(e,\"__esModule\",{value:!0});var p=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),b=(e,a)=>{i(e);for(var n in a)s(e,n,{get:a[n],enumerable:!0})},w=(e,a,n)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let o of d(a))!u.call(e,o)&&o!==\"default\"&&s(e,o,{get:()=>a[o],enumerable:!(n=c(a,o))||n.enumerable});return e},f=e=>w(i(s(e!=null?m(h(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var l=p((k,r)=>{r.exports=_jsx_runtime});var v={};b(v,{default:()=>L,frontmatter:()=>g});var t=f(l()),g={title:\"How to install Python Libraries to run on\\xA0Lambda\\\\'s\",date:\"2020-05-06\",tags:[\"serverless\",\"gitlab\",\"terraform\",\"react\",\"aws\"],draft:!0,summary:\"How to install Python Libraries to run on\\xA0Lambdas\"};function y(e){let a=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\"},e.components),{wrapper:n}=a,o=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.h1,{id:\"how-to-install-python-libraries-to-run-on-lambdas\",children:[(0,t.jsx)(a.a,{href:\"#how-to-install-python-libraries-to-run-on-lambdas\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,t.jsx)(a.span,{className:\"icon icon-link\"})}),\"How to install Python Libraries to run on\\xA0Lambda's\"]}),`\n`,(0,t.jsxs)(a.p,{children:[`A big problem when we're compiling Python libraries to use in our Lambda on AWS is we're using our computer (windows/macox/linux) to compile it. we starting to facing some issues because when you install a python package using pip for example, python knows that our machine has some libs that doesn't need to be compile again because out machine will offer it to our library.\nWhen we use lambda it can be a big issue because the lambda image that AWS is using to run our function doesn't provide the same lib's that our machine provides us. AWS are using some runtimes to run our Lambda and you can check it out here (`,(0,t.jsx)(a.a,{href:\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html\",children:\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html\"}),`), also you can setup a customise runtime but I'll not cover it now.\nSo, how to solve this problem? With a simple tool called Docker \\u{1F60E}\nIf you don't know what's docker or never used it before, please leave this page now and read: What is a Container? ASAP.\nWe gonna use a docker image called lambci/lambda that replicates all the environment runtime where our Lambda runs. The developers defines this docker image as a sandboxed local environment that replicates the live AWS Lambda environment almost identically\\u200A-\\u200Aincluding installed software and libraries, file structure and permissions, environment variables, context objects and behaviors\\u200A-\\u200Aeven the user and running process are the same.\nThey provide a lot of runtimes, no just for Python, you will find runtimes for all the Languages that Lambda offers you. You can check all the runtimes here.\\xA0\nLet's code.\nThe difference:\nWhen we install some package for example \"NAME OF PACKE\" using our computer with a simple pip install:\nCODE BAHS INSTALL PIP INSTALL\nAfter we install the library in a specify local folder we can see the library source code on XXX folder. As we can see normal package but if we deploy it into our lambda function we starting to facing some problems because our lambda runtime doenst provide some libs.\nPICTURE LAMBDA ERROR\nAnd if we install the Python package using our docker image that we commented before? Let's try:\nPICTURE RUNNING PYTHON WITH DOKCER IMAGE\nWe can see that our folder contains a different content, like this package libs.\\xA0\nPICTURE FOLDER WIHT LIBS\nWhat happened here? How our docker image doenst provide some SO lib's and python needs them to compile the library, python will compile the libs for us and provide it as a python libs and not more SO libs.\nIf we update our lambda with the fresh packages we can see that our problem with lib packages was solved \\u{1F64C}.\nPICTURE LAMBDA SUCCESS`]})]});return n?(0,t.jsx)(n,Object.assign({},e,{children:o})):o}var L=y;return v;})();\n;return Component.default;","frontMatter":{"readingTime":{"text":"3 min read","minutes":2.43,"time":145800,"words":486},"slug":"how-to-install-python-libraries-to-run-on-lambdas","fileName":"how-to-install-python-libraries-to-run-on-lambdas.mdx","title":"How to install Python Libraries to run on Lambda\\'s","date":"2020-05-06","tags":["serverless","gitlab","terraform","react","aws"],"draft":true,"summary":"How to install Python Libraries to run on Lambdas"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.605,"time":36300,"words":121},"slug":["default"],"fileName":"default.md","name":"Bruno Valenga","avatar":"/static/images/avatar.jpg","occupation":"DevOps Engineer","company":"DNX Solutions","email":"brunodasilvalenga@gmail.com","linkedin":"https://www.linkedin.com/in/bruno-da-silva-valenga","github":"https://github.com/brunodasilvalenga","instagram":"https://instagram.com/brunodasilvalenga","devdotto":"https://dev.to/brunodasilvalenga","medium":"https://medium.com/@brunodasilvalenga"}],"prev":{"title":"Using Multiple Buckets AWS Amplify","date":"2020-05-20","tags":["amplify","s3-bucket","aws"],"draft":false,"summary":"From the Amplify documentation, we can consider that AWS Amplify is a development platform for building secure, scalable mobile and web…","slug":"using-multiple-buckets-aws-amplify"},"next":null},"__N_SSG":true}