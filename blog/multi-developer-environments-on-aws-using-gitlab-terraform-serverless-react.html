<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>Multi developer environments on AWS using Gitlab + Terraform + Serverless + React</title><meta name="robots" content="follow, index"/><meta name="description" content="How you can deploy your applications and separate them by developer using Terraform and Gitlab CI."/><meta property="og:url" content="brunodasilvalenga.github.io/blog/multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Blog"/><meta property="og:description" content="How you can deploy your applications and separate them by developer using Terraform and Gitlab CI."/><meta property="og:title" content="Multi developer environments on AWS using Gitlab + Terraform + Serverless + React"/><meta property="og:image" content="brunodasilvalenga.github.io/static/images/twitter-card.png"/><meta property="article:published_time" content="2020-05-06T00:00:00.000Z"/><link rel="canonical" href="brunodasilvalenga.github.io/blog/multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "brunodasilvalenga.github.io/blog/multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react"
  },
  "headline": "Multi developer environments on AWS using Gitlab + Terraform + Serverless + React",
  "image": [
    {
      "@type": "ImageObject",
      "url": "brunodasilvalenga.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2020-05-06T00:00:00.000Z",
  "dateModified": "2020-05-06T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Bruno Valenga"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Bruno da Silva Valenga",
    "logo": {
      "@type": "ImageObject",
      "url": "brunodasilvalenga.github.io/static/images/logo.png"
    }
  },
  "description": "How you can deploy your applications and separate them by developer using Terraform and Gitlab CI."
}</script><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/391bd506cb4d42413536.css" as="style"/><link rel="stylesheet" href="/_next/static/css/391bd506cb4d42413536.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-c2a2190d4093451704a6.js" defer=""></script><script src="/_next/static/chunks/main-40881ee2de3c2707334e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4404d46dc88f0ccc95b7.js" defer=""></script><script src="/_next/static/chunks/framework-0673b3d96dcb10fbf769.js" defer=""></script><script src="/_next/static/chunks/96-9fc9f744aa350267d3f4.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-829ddae4ae03fa5c2402.js" defer=""></script><script src="/_next/static/RwfuAidZPCCDIEqLlNcW1/_buildManifest.js" defer=""></script><script src="/_next/static/RwfuAidZPCCDIEqLlNcW1/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-black bg-white dark:bg-gray-900 dark:text-white"><div id="__next"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="Bruno Valenga Blog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="344.564 330.278 111.737 91.218" width="53.87" height="43.61"><defs><linearGradient id="logo_svg__b" gradientUnits="userSpaceOnUse" x1="420.97" y1="331.28" x2="420.97" y2="418.5"><stop offset="0%" stop-color="#06b6d4"></stop><stop offset="100%" stop-color="#67e8f9"></stop></linearGradient><linearGradient id="logo_svg__d" gradientUnits="userSpaceOnUse" x1="377.89" y1="331.28" x2="377.89" y2="418.5"><stop offset="0%" stop-color="#06b6d4"></stop><stop offset="100%" stop-color="#67e8f9"></stop></linearGradient><path d="M453.3 331.28v28.57l-64.66 58.65v-30.08l64.66-57.14z" id="logo_svg__a"></path><path d="M410.23 331.28v28.57l-64.67 58.65v-30.08l64.67-57.14z" id="logo_svg__c"></path></defs><use xlink:href="#logo_svg__a" fill="url(#logo_svg__b)"></use><use xlink:href="#logo_svg__c" fill="url(#logo_svg__d)"></use></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Bruno Valenga</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2020-05-06">Wednesday, May 6, 2020</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Multi developer environments on AWS using Gitlab + Terraform + Serverless + React</h1></div></div></header><div class="pb-8 divide-y divide-gray-200 xl:divide-y-0 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 xl:block sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.jpg" width="38px" height="38px" alt="avatar" class="w-10 h-10 rounded-full"/><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Bruno Valenga</dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:pb-0 xl:col-span-3 xl:row-span-2"><div class="pt-10 pb-8 prose dark:prose-dark max-w-none"><h1 id="multi-developer-environments-on-aws-using-gitlab--terraform--serverless--react"><a href="#multi-developer-environments-on-aws-using-gitlab--terraform--serverless--react" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Multi developer environments on AWS using Gitlab + Terraform + Serverless + React</h1>
<p>Photo by tian kuan on Unsplash</p>
<p>We are using Gitlab to deploy our applications directly to AWS through pipelines. If you never heard about Gitlab (<a target="_blank" rel="noopener noreferrer" href="https://about.gitlab.com/stages-devops-lifecycle/">https://about.gitlab.com/stages-devops-lifecycle/</a>), please feel free to read the Gitlab‚Äôs white papers and understand more about the tools. Maybe you are wondering why we don‚Äôt use Github/Actions to deploy our applications, and I‚Äôll answer you with a simple reason: Runners (<a target="_blank" rel="noopener noreferrer" href="https://docs.gitlab.com/ee/ci/runners/">https://docs.gitlab.com/ee/ci/runners/</a>).</p>
<p>In this project, we used a front-end application based on React and deployed on CloudFront + S3. Also, a backend application based on the Serverless framework deployed on API Gateway. Both were simple applications that were consuming some 3rd party API and a database in Dynamo DB.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*SYy4KGSFpLvepUz4lS46UQ.png" alt=""/></p>
<p>Sometimes we would like to test some new feature that is being developed using our workspace the Development on AWS. It is very simple when we have a small team, and it is easy to do internal management, but sometimes we start to face some problems because another developer would like to test his new feature as well and this would cause confusion, as the second developer would need to merge/rebase the code and that would mean more time and nowadays time is money. ü§ë</p>
<p>We can fix that problem creating a new workspace on AWS for each developer and we can share the resources between them or have one resource per developer, in this case, we will share the resources between the developer since we‚Äôre looking for cost optimisation as well.</p>
<p>Let‚Äôs look at some code. We‚Äôre using Terraform and a concept called workspaces if you never heard about that you may check our blog post talking about Terraform Workspaces.
<a target="_blank" rel="noopener noreferrer" href="https://medium.com/dnx-labs/terraform-workspaces-101-f8e1a5054547"><strong>Terraform Workspaces 101</strong>
<em>The art of deploying the same stack multiple times without duplication</em>medium.com</a></p>
<h2 id="terraform--deploy-infrastructure-as-code-iac"><a href="#terraform--deploy-infrastructure-as-code-iac" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Terraform ‚Äî Deploy Infrastructure as Code (IaC)</h2>
<h3 id="frontend--cloud-front--s3-bucket"><a href="#frontend--cloud-front--s3-bucket" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Frontend ‚Äî Cloud Front + S3 Bucket</h3>
<iframe src="https://medium.com/media/2bd7f0796357596e3d596f92daf0d489"></iframe>
<h3 id="backend--api-gateway"><a href="#backend--api-gateway" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Backend ‚Äî API Gateway</h3>
<iframe src="https://medium.com/media/caa9dc35c0fb4e6d10f90efe895dc6a1"></iframe>
<h3 id="variables"><a href="#variables" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Variables</h3>
<p><iframe src="https://medium.com/media/09d68c83d8fadde917c8eee89ac8e421"></iframe>&gt; We‚Äôre using our
<strong>Terraform</strong> modules to create most of the resources. All the code and tools that we‚Äôre using is
**Open Source **so if you want to check this out, you will find all the terraform modules and tools
that we‚Äôve on this link: <a target="_blank" rel="noopener noreferrer" href="https://modules.dnx.one/">https://modules.dnx.one/</a>.</p>
<p>Look‚Äôs nice but how we know each developer and deploy the code in the right workspace?</p>
<p>Gitlab provides us with many environment variables that we can use (<a target="_blank" rel="noopener noreferrer" href="https://docs.gitlab.com/ee/ci/variables/predefined_variables.html">https://docs.gitlab.com/ee/ci/variables/predefined_variables.html</a>) in this case we‚Äôll use on the pipeline. The variable we can use to separate the environments could be the <strong>GITLAB_USER_ID.</strong></p>
<h3 id="gitlab-ci"><a href="#gitlab-ci" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Gitlab CI</h3>
<iframe src="https://medium.com/media/9c285dfaac71720bf50e99f5201b8144"></iframe>
<p>In this case, we set the pipeline to run the stage developer just when we deploy a variable called DEVELOPER_ID. This variable is the **GITLAB_USER_ID **that we found before and you can grab this on your Gitlab‚Äôs profile account (<a target="_blank" rel="noopener noreferrer" href="https://gitlab.com/profile">https://gitlab.com/profile</a>) and get the <strong>User ID</strong> field. Now that we have our developer‚Äôs user id, we can run our pipeline to create the user workspace using Terraform:</p>
<p><img src="https://cdn-images-1.medium.com/max/2560/1*ul78U7dxq3zg7Nz9wROS7w.png" alt="Run Pipeline ‚Äî Gitlab CI"/><em>Run Pipeline ‚Äî Gitlab CI</em></p>
<p>The result will be:</p>
<p><img src="https://cdn-images-1.medium.com/max/2752/1*bkmGgBrx2d3dcT2SmTjN3g.png" alt="Pipeline Running - Gitlab CI"/><em>Pipeline Running - Gitlab CI</em></p>
<p>We can use the Gitlab CI to apply our code using terraform and creating the new developer just when we set the variable <strong>USER_ID</strong>.</p>
<p>Now that we have our workspace deployed, let&#x27;s move on and create our pipeline for our applications.</p>
<iframe src="https://medium.com/media/868d3177f737c470e41e1aba313bbba8"></iframe>
<p>As we‚Äôre creating the API Gateway by developer we want each developer to have their own subdomain so we will use an <strong>API Gateway Custom Domain Name</strong> to have an endpoint pointing to the right API Gateway:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://api-GITLAB_USER_ID.dev.cloud.example.com.au/">https://api-<strong>GITLAB_USER_ID</strong>.dev.cloud.example.com.au/</a></p>
<p>We also will change a bit our Serverless pipeline to grab the **GITLAB_USER_ID **and use inside for our code as an environment variable.</p>
<p><img src="https://cdn-images-1.medium.com/max/4232/1*pYbWbcDpvZ7Ezb6VvYMUQg.png" alt=""/></p>
<iframe src="https://medium.com/media/a49a016aae5d36613f348c7ab04f5230"></iframe>
<p>Now when the developer does a commit into Gitlab the pipeline will trigger and grab the code that he is developing and deploy into his workspace on AWS.</p>
<p>I hope that this article could be useful for you. Let me know in the comments if you have some doubts about that.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="noopener noreferrer" href="https://github.com/brunodasilvalenga/brunodasilvalenga.github.io/blob/master/data/blog/multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react.mdx">View on GitHub</a></div></div><footer><div class="text-sm font-medium leading-5 divide-gray-200 xl:divide-y dark:divide-gray-700 xl:col-start-1 xl:row-start-2"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/serverless">serverless</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/gitlab">gitlab</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/terraform">terraform</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/react">react</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/aws">aws</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/using-multiple-buckets-aws-amplify">Using Multiple Buckets AWS Amplify</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">‚Üê Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:brunodasilvalenga@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/brunodasilvalenga"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://instagram.com/brunodasilvalenga"><span class="sr-only">instagram</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913a5.885 5.885 0 001.384 2.126A5.868 5.868 0 004.14 23.37c.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558a5.898 5.898 0 002.126-1.384 5.86 5.86 0 001.384-2.126c.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913a5.89 5.89 0 00-1.384-2.126A5.847 5.847 0 0019.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227a3.81 3.81 0 01-.899 1.382 3.744 3.744 0 01-1.38.896c-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421a3.716 3.716 0 01-1.379-.899 3.644 3.644 0 01-.9-1.38c-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678a6.162 6.162 0 100 12.324 6.162 6.162 0 100-12.324zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405a1.441 1.441 0 01-2.88 0 1.44 1.44 0 012.88 0z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://dev.to/brunodasilvalenga"><span class="sr-only">devdotto</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M7.42 10.05c-.18-.16-.46-.23-.84-.23H6l.02 2.44.04 2.45.56-.02c.41 0 .63-.07.83-.26.24-.24.26-.36.26-2.2 0-1.91-.02-1.96-.29-2.18zM0 4.94v14.12h24V4.94H0zM8.56 15.3c-.44.58-1.06.77-2.53.77H4.71V8.53h1.4c1.67 0 2.16.18 2.6.9.27.43.29.6.32 2.57.05 2.23-.02 2.73-.47 3.3zm5.09-5.47h-2.47v1.77h1.52v1.28l-.72.04-.75.03v1.77l1.22.03 1.2.04v1.28h-1.6c-1.53 0-1.6-.01-1.87-.3l-.3-.28v-3.16c0-3.02.01-3.18.25-3.48.23-.31.25-.31 1.88-.31h1.64v1.3zm4.68 5.45c-.17.43-.64.79-1 .79-.18 0-.45-.15-.67-.39-.32-.32-.45-.63-.82-2.08l-.9-3.39-.45-1.67h.76c.4 0 .75.02.75.05 0 .06 1.16 4.54 1.26 4.83.04.15.32-.7.73-2.3l.66-2.52.74-.04c.4-.02.73 0 .73.04 0 .14-1.67 6.38-1.8 6.68z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://medium.com/@brunodasilvalenga"><span class="sr-only">medium</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zm7.42 0c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/bruno-da-silva-valenga"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Bruno da Silva Valenga</div><div> ‚Ä¢ </div><div>¬© 2021</div><div> ‚Ä¢ </div><a href="/">Blog</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var i=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var o=n=\u003ei(n,\"__esModule\",{value:!0});var u=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),b=(n,e)=\u003e{o(n);for(var t in e)i(n,t,{get:e[t],enumerable:!0})},f=(n,e,t)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let r of h(e))!m.call(n,r)\u0026\u0026r!==\"default\"\u0026\u0026i(n,r,{get:()=\u003ee[r],enumerable:!(t=c(e,r))||t.enumerable});return n},w=n=\u003ef(o(i(n!=null?d(p(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var l=u((G,s)=\u003e{s.exports=_jsx_runtime});var I={};b(I,{default:()=\u003ey,frontmatter:()=\u003eg});var a=w(l()),g={title:\"Multi developer environments on AWS using Gitlab + Terraform + Serverless + React\",date:\"2020-05-06\",tags:[\"serverless\",\"gitlab\",\"terraform\",\"react\",\"aws\"],draft:!1,summary:\"How you can deploy your applications and separate them by developer using Terraform and Gitlab CI.\"};function v(n){let e=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",img:\"img\",strong:\"strong\",em:\"em\",h2:\"h2\",h3:\"h3\"},n.components),{wrapper:t}=e,r=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.h1,{id:\"multi-developer-environments-on-aws-using-gitlab--terraform--serverless--react\",children:[(0,a.jsx)(e.a,{href:\"#multi-developer-environments-on-aws-using-gitlab--terraform--serverless--react\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Multi developer environments on AWS using Gitlab + Terraform + Serverless + React\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Photo by tian kuan on Unsplash\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"We are using Gitlab to deploy our applications directly to AWS through pipelines. If you never heard about Gitlab (\",(0,a.jsx)(e.a,{href:\"https://about.gitlab.com/stages-devops-lifecycle/\",children:\"https://about.gitlab.com/stages-devops-lifecycle/\"}),\"), please feel free to read the Gitlab\\u2019s white papers and understand more about the tools. Maybe you are wondering why we don\\u2019t use Github/Actions to deploy our applications, and I\\u2019ll answer you with a simple reason: Runners (\",(0,a.jsx)(e.a,{href:\"https://docs.gitlab.com/ee/ci/runners/\",children:\"https://docs.gitlab.com/ee/ci/runners/\"}),\").\"]}),`\n`,(0,a.jsx)(e.p,{children:\"In this project, we used a front-end application based on React and deployed on CloudFront + S3. Also, a backend application based on the Serverless framework deployed on API Gateway. Both were simple applications that were consuming some 3rd party API and a database in Dynamo DB.\"}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/2000/1*SYy4KGSFpLvepUz4lS46UQ.png\",alt:\"\"})}),`\n`,(0,a.jsx)(e.p,{children:\"Sometimes we would like to test some new feature that is being developed using our workspace the Development on AWS. It is very simple when we have a small team, and it is easy to do internal management, but sometimes we start to face some problems because another developer would like to test his new feature as well and this would cause confusion, as the second developer would need to merge/rebase the code and that would mean more time and nowadays time is money. \\u{1F911}\"}),`\n`,(0,a.jsx)(e.p,{children:\"We can fix that problem creating a new workspace on AWS for each developer and we can share the resources between them or have one resource per developer, in this case, we will share the resources between the developer since we\\u2019re looking for cost optimisation as well.\"}),`\n`,(0,a.jsxs)(e.p,{children:[`Let\\u2019s look at some code. We\\u2019re using Terraform and a concept called workspaces if you never heard about that you may check our blog post talking about Terraform Workspaces.\n`,(0,a.jsxs)(e.a,{href:\"https://medium.com/dnx-labs/terraform-workspaces-101-f8e1a5054547\",children:[(0,a.jsx)(e.strong,{children:\"Terraform Workspaces 101\"}),`\n`,(0,a.jsx)(e.em,{children:\"The art of deploying the same stack multiple times without duplication\"}),\"medium.com\"]})]}),`\n`,(0,a.jsxs)(e.h2,{id:\"terraform--deploy-infrastructure-as-code-iac\",children:[(0,a.jsx)(e.a,{href:\"#terraform--deploy-infrastructure-as-code-iac\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Terraform \\u2014 Deploy Infrastructure as Code (IaC)\"]}),`\n`,(0,a.jsxs)(e.h3,{id:\"frontend--cloud-front--s3-bucket\",children:[(0,a.jsx)(e.a,{href:\"#frontend--cloud-front--s3-bucket\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Frontend \\u2014 Cloud Front + S3 Bucket\"]}),`\n`,(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/2bd7f0796357596e3d596f92daf0d489\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"backend--api-gateway\",children:[(0,a.jsx)(e.a,{href:\"#backend--api-gateway\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Backend \\u2014 API Gateway\"]}),`\n`,(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/caa9dc35c0fb4e6d10f90efe895dc6a1\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"variables\",children:[(0,a.jsx)(e.a,{href:\"#variables\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Variables\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/09d68c83d8fadde917c8eee89ac8e421\"}),`\u003e We\\u2019re using our\n`,(0,a.jsx)(e.strong,{children:\"Terraform\"}),` modules to create most of the resources. All the code and tools that we\\u2019re using is\n**Open Source **so if you want to check this out, you will find all the terraform modules and tools\nthat we\\u2019ve on this link: `,(0,a.jsx)(e.a,{href:\"https://modules.dnx.one/\",children:\"https://modules.dnx.one/\"}),\".\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Look\\u2019s nice but how we know each developer and deploy the code in the right workspace?\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Gitlab provides us with many environment variables that we can use (\",(0,a.jsx)(e.a,{href:\"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\",children:\"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\"}),\") in this case we\\u2019ll use on the pipeline. The variable we can use to separate the environments could be the \",(0,a.jsx)(e.strong,{children:\"GITLAB_USER_ID.\"})]}),`\n`,(0,a.jsxs)(e.h3,{id:\"gitlab-ci\",children:[(0,a.jsx)(e.a,{href:\"#gitlab-ci\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Gitlab CI\"]}),`\n`,(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/9c285dfaac71720bf50e99f5201b8144\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"In this case, we set the pipeline to run the stage developer just when we deploy a variable called DEVELOPER_ID. This variable is the **GITLAB_USER_ID **that we found before and you can grab this on your Gitlab\\u2019s profile account (\",(0,a.jsx)(e.a,{href:\"https://gitlab.com/profile\",children:\"https://gitlab.com/profile\"}),\") and get the \",(0,a.jsx)(e.strong,{children:\"User ID\"}),\" field. Now that we have our developer\\u2019s user id, we can run our pipeline to create the user workspace using Terraform:\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/2560/1*ul78U7dxq3zg7Nz9wROS7w.png\",alt:\"Run Pipeline \\u2014 Gitlab CI\"}),(0,a.jsx)(e.em,{children:\"Run Pipeline \\u2014 Gitlab CI\"})]}),`\n`,(0,a.jsx)(e.p,{children:\"The result will be:\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/2752/1*bkmGgBrx2d3dcT2SmTjN3g.png\",alt:\"Pipeline Running - Gitlab CI\"}),(0,a.jsx)(e.em,{children:\"Pipeline Running - Gitlab CI\"})]}),`\n`,(0,a.jsxs)(e.p,{children:[\"We can use the Gitlab CI to apply our code using terraform and creating the new developer just when we set the variable \",(0,a.jsx)(e.strong,{children:\"USER_ID\"}),\".\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Now that we have our workspace deployed, let's move on and create our pipeline for our applications.\"}),`\n`,(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/868d3177f737c470e41e1aba313bbba8\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"As we\\u2019re creating the API Gateway by developer we want each developer to have their own subdomain so we will use an \",(0,a.jsx)(e.strong,{children:\"API Gateway Custom Domain Name\"}),\" to have an endpoint pointing to the right API Gateway:\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsxs)(e.a,{href:\"https://api-GITLAB_USER_ID.dev.cloud.example.com.au/\",children:[\"https://api-\",(0,a.jsx)(e.strong,{children:\"GITLAB_USER_ID\"}),\".dev.cloud.example.com.au/\"]})}),`\n`,(0,a.jsx)(e.p,{children:\"We also will change a bit our Serverless pipeline to grab the **GITLAB_USER_ID **and use inside for our code as an environment variable.\"}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/4232/1*pYbWbcDpvZ7Ezb6VvYMUQg.png\",alt:\"\"})}),`\n`,(0,a.jsx)(\"iframe\",{src:\"https://medium.com/media/a49a016aae5d36613f348c7ab04f5230\"}),`\n`,(0,a.jsx)(e.p,{children:\"Now when the developer does a commit into Gitlab the pipeline will trigger and grab the code that he is developing and deploy into his workspace on AWS.\"}),`\n`,(0,a.jsx)(e.p,{children:\"I hope that this article could be useful for you. Let me know in the comments if you have some doubts about that.\"})]});return t?(0,a.jsx)(t,Object.assign({},n,{children:r})):r}var y=v;return I;})();\n;return Component.default;","frontMatter":{"readingTime":{"text":"4 min read","minutes":3.62,"time":217200,"words":724},"slug":"multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react","fileName":"multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react.mdx","title":"Multi developer environments on AWS using Gitlab + Terraform + Serverless + React","date":"2020-05-06","tags":["serverless","gitlab","terraform","react","aws"],"draft":false,"summary":"How you can deploy your applications and separate them by developer using Terraform and Gitlab CI."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.605,"time":36300,"words":121},"slug":["default"],"fileName":"default.md","name":"Bruno Valenga","avatar":"/static/images/avatar.jpg","occupation":"DevOps Engineer","company":"DNX Solutions","email":"brunodasilvalenga@gmail.com","linkedin":"https://www.linkedin.com/in/bruno-da-silva-valenga","github":"https://github.com/brunodasilvalenga","instagram":"https://instagram.com/brunodasilvalenga","devdotto":"https://dev.to/brunodasilvalenga","medium":"https://medium.com/@brunodasilvalenga"}],"prev":null,"next":{"title":"Using Multiple Buckets AWS Amplify","date":"2020-05-20","tags":["amplify","s3-bucket","aws"],"draft":false,"summary":"From the Amplify documentation, we can consider that AWS Amplify is a development platform for building secure, scalable mobile and web‚Ä¶","slug":"using-multiple-buckets-aws-amplify"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["multi-developer-environments-on-aws-using-gitlab-terraform-serverless-react"]},"buildId":"RwfuAidZPCCDIEqLlNcW1","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>